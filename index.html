<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Programme Escalade ‚Äî App</title>
<link rel="manifest" href="manifest.json">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Escalade Trainer">
<link rel="apple-touch-icon" href="icon-192.png">

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root {
  color-scheme: dark;
  env(safe-area-inset-top);
}

body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  color: #f8fafc;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
}

h1 {
  text-align: center;
  font-weight: 700;
  font-size: 1.8em;
  margin: 1em 0 0.5em 0;
  color: #a5b4fc;
  letter-spacing: 1px;
}

h2 {
  font-size: 1.2em;
  margin-bottom: 0.4em;
  color: #c7d2fe;
}

.card {
  width: 90%;
  max-width: 500px;
  background: rgba(15, 23, 42, 0.8);
  border: 1px solid rgba(99, 102, 241, 0.2);
  border-radius: 14px;
  margin: 12px 0;
  padding: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(10px);
  animation: fadeIn 0.6s ease;
}

.day {
  padding: 10px 12px;
  border-radius: 8px;
  background: rgba(255,255,255,0.05);
  margin: 6px 0;
  cursor: pointer;
  transition: background 0.3s;
}
.day:hover {
  background: rgba(99,102,241,0.15);
}

.day h3 {
  margin: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.day-details {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, opacity 0.3s ease;
  opacity: 0;
  margin-top: 0;
}
.day-details.open {
  opacity: 1;
  max-height: 300px;
  margin-top: 8px;
}

.day-details ul {
  list-style: none;
  padding-left: 12px;
  margin: 0;
}

button {
  padding: 6px 12px;
  margin-left: 8px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(90deg, #6366f1, #8b5cf6);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.15s ease, opacity 0.15s ease;
}

button:hover {
  transform: scale(1.05);
  opacity: 0.9;
}

button:active {
  transform: scale(0.95);
}

.reset-btn {
  background: linear-gradient(90deg, #ef4444, #f87171);
  margin-top: 10px;
}

#timer_display {
  font-size: 2em;
  font-weight: bold;
  color: #a5b4fc;
  letter-spacing: 1px;
}

footer {
  margin-top: auto;
  padding: 12px;
  font-size: 0.9em;
  opacity: 0.6;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>
<h1>üèîÔ∏è Programme Escalade & Musculation</h1>

<div class="card" id="calendar_card">
  <h2>üóìÔ∏è Calendrier interactif</h2>
  <div id="calendar"></div>
</div>

<div class="card">
  <h2>‚è±Ô∏è Minuteur global</h2>
  <p><span id="timer_display">00:00</span></p>
  <div>
    <button onclick="startTimer()">‚ñ∂ Start</button>
    <button onclick="stopTimer()">‚è∏ Stop</button>
    <button onclick="resetTimer()" class="reset-btn">üîÅ Reset</button>
  </div>
</div>

<footer>¬© 2025 Escalade Trainer ‚Ä¢ Stay Strong üí•</footer>

<script>
// --- Programme hebdomadaire ---
const programme = {
  Lundi: { title: "Pouss√©e + Core", exercices: [
      "Pompes classiques ‚Äî 3√ó8-10",
      "Planche ‚Äî 3√ó30-40s",
      "Dips sur chaise ‚Äî 3√ó10"
  ]},
  Mardi: { title: "Tirage + Grip", exercices: [
      "Tractions ‚Äî 3√ó6-8",
      "Suspensions sur poutre ‚Äî 3√ó20s",
      "Rowing invers√© ‚Äî 3√ó10"
  ]},
  Mercredi: { title: "Jambes + Explosivit√©", exercices: [
      "Squats saut√©s ‚Äî 3√ó12",
      "Fentes ‚Äî 3√ó10",
      "Mont√©es de genoux dynamiques ‚Äî 3√ó30s"
  ]},
  Jeudi: { title: "Haut du corps + Doigts", exercices: [
      "Pompes serr√©es ‚Äî 3√ó10",
      "Suspension 3 doigts ‚Äî 4√ó10s",
      "Gainage lat√©ral ‚Äî 3√ó30s / c√¥t√©"
  ]},
  Vendredi: { title: "Tirage + Core", exercices: [
      "Tractions australiennes ‚Äî 3√ó10",
      "Crunchs ‚Äî 3√ó20",
      "Planche lat√©rale ‚Äî 3√ó30s"
  ]},
  Samedi: { title: "Repos actif", exercices: [
      "√âtirements dynamiques",
      "Mobilit√© √©paules et hanches",
      "Marche ou yoga l√©ger"
  ]},
  Dimanche: { title: "Repos total", exercices: [
      "Hydratation",
      "Repos complet",
      "Pr√©paration de la semaine"
  ]}
};

// --- G√©n√©rer le calendrier ---
const calendarDiv = document.getElementById('calendar');
for (const [jour, data] of Object.entries(programme)) {
  const dayDiv = document.createElement('div');
  dayDiv.classList.add('day');
  dayDiv.innerHTML = `
    <h3>${jour} <span style="font-size:0.9em;opacity:0.7;">${data.title}</span></h3>
    <div class="day-details">
      <ul>${data.exercices.map(e => `<li>${e}</li>`).join('')}</ul>
    </div>
  `;
  calendarDiv.appendChild(dayDiv);
}

// --- Animation du menu d√©roulant ---
const days = document.querySelectorAll('.day');
days.forEach(day => {
  day.addEventListener('click', () => {
    const open = day.querySelector('.day-details').classList.contains('open');
    document.querySelectorAll('.day-details').forEach(d => d.classList.remove('open'));
    if (!open) day.querySelector('.day-details').classList.add('open');
  });
});

// --- Minuteur global ---
let timerInterval;
let timerSeconds = parseInt(localStorage.getItem('timerSeconds')||'0');
const display = document.getElementById('timer_display');
function updateDisplay(){
  let m = Math.floor(timerSeconds/60);
  let s = timerSeconds % 60;
  display.textContent = (m<10?'0':'')+m+":"+(s<10?'0':'')+s;
}
updateDisplay();

function startTimer(){
  if(timerInterval) return;
  timerInterval = setInterval(()=>{
    timerSeconds++;
    localStorage.setItem('timerSeconds', timerSeconds);
    updateDisplay();
  },1000);
}
function stopTimer(){
  clearInterval(timerInterval);
  timerInterval = null;
}
function resetTimer(){
  timerSeconds=0;
  updateDisplay();
  localStorage.removeItem('timerSeconds');
}
</script>
</body>
</html>
